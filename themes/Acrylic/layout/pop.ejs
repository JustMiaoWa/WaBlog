<!-- å¼¹å‡ºæ¡† -->
<div class="hello_box" id="isHello">
    <div class="title">
        <p>å“‡å­</p>
    </div>
    <hr class="middle_solid"/>
    <div class="content">
        <p>ç¥ä½ å¤©å¤©å¼€å¿ƒğŸ‰ğŸ‰</p>
        <p>
            <i class="icon fas fa-arrow-circle-right"></i>
        </p>
    </div>
</div>
<script>
    // è·å–å…ƒç´ 
    var isHelloBox = document.getElementById('isHello');
    const isHello = function(){
        if (window.location.pathname === '/') {
            isHelloBox.style.display = 'block';
            isHelloBox.classList.remove('hide_box')
        } else {
            isHelloBox.style.display = 'none';
            isHelloBox.classList.remove('hide_box')
        }
    }
    // åˆ›å»ºä¸€ä¸ª MutationObserver å®ä¾‹
    const observer = new MutationObserver((mutationsList) => {
        for (let mutation of mutationsList) {
            // æ£€æŸ¥ class å˜åŒ–
            if (mutation.type === "attributes" && mutation.attributeName === "class") {
                const isClassPresent = isHelloBox.classList.contains("hide_box");
                if (isClassPresent) {
                    // åœ¨å…ƒç´ å…·æœ‰ç›®æ ‡ class æ—¶æ‰§è¡Œçš„æ“ä½œ
                    setTimeout(function(){
                        isHelloBox.style.display = 'none';
                    },700)
                }
            }
        }
    });
    // é…ç½®è§‚å¯Ÿé€‰é¡¹
    const config = { attributes: true };

    // å¼€å§‹è§‚å¯Ÿç›®æ ‡å…ƒç´ çš„å˜åŒ–
    observer.observe(isHelloBox, config);

    const addClassToIsHelloBox = function(){
        const computedStyle = window.getComputedStyle(isHelloBox)
        if(computedStyle.display === "block"){
            isHelloBox.classList.add('hide_box')
        }else{
            isHelloBox.classList.remove('hide_box')
        }
    }
    // å»¶è¿Ÿæ—¶é—´ç»™å®š
    const delayTime = 5000;
    let timerId;
    document.addEventListener('pjax:complete',function(){
        clearTimeout(timerId);
        isHello();
        timerId = setTimeout(addClassToIsHelloBox,delayTime);
    });
    window.addEventListener('load',function(){
        isHello();
        setTimeout(addClassToIsHelloBox,delayTime);
    })
    
</script>
<style>
    @media screen and (max-width: 1300px) {
        .hello_box {
            display: none !important;
        }
    }
    .hello_box {
        min-width: 300px;
        z-index: 1;
        position: fixed;
        top: 65px;
        left: 50px;
        transition: 0.3s;
        transform-origin: left bottom;
        box-shadow: var(--heo-shadow-border);
        background-color: var(--heo-maskbgdeep);
        border-radius: 12px;
        border: var(--style-border);
        padding: 8px 16px;
        font-family: "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei";
        animation: barrageIn 0.6s cubic-bezier(0.42, 0, 0.3, 1.11);
    }
    .hide_box {
        opacity: 0;
        animation: barrageOut 0.6s cubic-bezier(0.42, 0, 0.3, 1.11);
        z-index: -1;
    }
    .hello_box p {
        margin: 0;
        padding: 0;
    }
    .hello_box .middle_solid{
        margin: 0;
        padding: 0;
        border-top: var(--style-border);
        border-bottom: none;
    }
    .hello_box .title {
        font-size: 12px;
        font-weight: bold;
    }
    .hello_box .content {
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-size: 14px;
    }
    .hello_box .content .icon {
        margin-right: 5px;
        cursor: pointer;
    }
    .hello_box .content .icon:hover {
        color: var(--heo-theme);
    }

    @keyframes barrageIn{
        0% {
            transform: translateX(-50px);
            opacity: 0;
        }

        100% {
            transform: translateX(0px);
            opacity: 1;
        }
    }

    @keyframes barrageOut{
        0% {
            transform: translateX(0px);
            opacity: 1;
        }

        100% {
            transform: translateX(-50px);
            opacity: 0;
        }
    }

</style>